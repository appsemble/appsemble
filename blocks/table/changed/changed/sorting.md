Change sorting to emit an event instead of sorting the data in memory
