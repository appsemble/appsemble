import { ClientServerActionSupport as Side } from './ClientServerActionSupport/index.tsx';
import { ActionRef } from './ActionRef/index.tsx';
import { groupActions as actions } from '../../../../utils/reference-schemas/actions/group.ts';

# Group

## Introduction

Group actions allow app members with sufficient permissions to manage groups and invite and manage
group members. To know more about the groups visit [this page](../app/groups.md). Supported group
actions are as follow.

- [`group.query`](#groupquery)
- [`group.member.invite`](#groupmemberinvite)
- [`group.member.query`](#groupmemberquery)
- [`group.member.delete`](#groupmemberdelete)
- [`group.member.role.update`](#groupmemberroleupdate)

## Actions

### group.query<Side name="group.query" />

<ActionRef action={actions['group.query']} />

This action allows an app member with sufficient permissions to query groups within the app, in
which the app member is a member of. This action requires the `$group:query` app permission. For
more information check out [security](../app/security.md#permissions). Here is an example of how you
can use this action.

```yaml validate blocks-snippet
blocks:
  - type: action-button
    version: 0.33.4
    parameters:
      icon: 'user'
    actions:
      onClick:
        type: group.query
        onSuccess:
          type: log
```

### group.member.invite<Side name="group.member.invite" />

<ActionRef action={actions['group.member.invite']} />

This action allows a user with sufficient permissions to invite app members to a group. The `role`
specified must exist in the roles property of the app's security definition or in the predefined app
roles in the system - `Member`, `MembersManager`, `GroupMembersManager`, `GroupsManager`,
`ResourcesManager` and `Owner`. This action requires the `$group:member:invite` app permission. For
more information check out [security](../app/security.md#permissions).Here is an example of how you
can use this action.

```yaml validate blocks-snippet
blocks:
  - type: form
    version: 0.33.4
    parameters:
      fields:
        - name: email
          label: { translate: email }
          type: string
          format: email
          requirements: [required: true]
        - name: id
          type: hidden
        - name: role
          type: string
    actions:
      onSubmit:
        type: group.member.invite
        onSuccess:
          type: log
```

### group.member.query<Side name="group.member.query" />

<ActionRef action={actions['group.member.query']} />

This action allows an app member with sufficient permissions to query group members within a group,
in which the app member is a member of. This action requires the `$group:member:query` app
permission. For more information check out [security](../app/security.md#permissions).Here is an
example of how you can use this action.

```yaml validate blocks-snippet
blocks:
  - type: action-button
    version: 0.33.4
    parameters:
      icon: 'user'
    actions:
      onClick:
        type: group.member.query
        id: 1
        onSuccess:
          type: log
```

### group.member.delete<Side name="group.member.delete" />

<ActionRef action={actions['group.member.delete']} />

This action allows an app member with sufficient permissions to delete a group member from a group,
in which the app member is a member of. This action requires the `$group:member:delete` app
permission. For more information check out [security](../app/security.md#permissions). Here is an
example of how you can use this action.

```yaml validate blocks-snippet
blocks:
  - type: action-button
    version: 0.33.4
    parameters:
      icon: 'user'
    actions:
      onClick:
        type: group.member.delete
        id: 1
        onSuccess:
          type: log
```

### group.member.role.update<Side name="group.member.role.update" />

<ActionRef action={actions['group.member.role.update']} />

This action allows an app member with sufficient permissions to update the role of a member in a
group, in which the app member is a member of. The `role` specified must exist in the roles property
of the app's security definition or in the predefined app roles in the system - `Member`,
`MembersManager`, `GroupMembersManager`, `GroupsManager`, `ResourcesManager` and `Owner`. This
action requires the `$group:member:role:update` app permission. For more information check out
[security](../app/security.md#permissions).Here is an example of how you can use this action.

```yaml validate blocks-snippet
blocks:
  - type: action-button
    version: 0.33.4
    parameters:
      icon: 'user'
    actions:
      onClick:
        type: group.member.role.update
        id: 1
        role: 'Member'
        onSuccess:
          type: log
```
